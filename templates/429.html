{% extends "base.html" %}
{% block content %}
<div class="container d-flex align-items-center justify-content-center" style="min-height: 80vh;">
  <div class="card shadow-lg p-4 text-center" style="border-radius: 2rem; max-width: 400px; width:100%;">
    <div class="mb-3">
      <span class="display-1" style="color:#F76C6C;"><i class="bi bi-emoji-frown"></i></span>
    </div>
    <h2 class="fw-bold mb-3" style="color:#333;">Too Many Requests</h2>
    <p class="mb-4 text-muted">

      You've made too many requests. Please wait a minute and try again.<br>
      <small>{{ error.description if error else '' }}</small>
    </p>
    <button onclick="goBackToCart()" class="btn btn-primary w-100 mb-2">
      <i class="bi bi-arrow-left"></i> Back to Payment
    </button>
    <a href="{{ url_for('home') }}" class="btn btn-outline-secondary w-100">
      <i class="bi bi-house"></i> Return to Home
    </a>
  </div>
</div>

<script>
// If the cart modal exists, this will try to show it on click
function goBackToCart() {
  // Try to open Bootstrap modal (needs Bootstrap JS loaded)
  if (typeof bootstrap !== 'undefined' && document.getElementById('cartModal')) {
    var myModal = new bootstrap.Modal(document.getElementById('cartModal'));
    myModal.show();
  }
  // Fallback: Just go back in history
  else {
    window.history.back();
  }
}
</script>
{% endblock %}
